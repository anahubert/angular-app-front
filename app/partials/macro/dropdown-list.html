<div class="row-fluid" ng-controller="Macro" ng-init="refresh();">
	<div class="span12">
		<div class="row-fluid">
			<div class="span12">
				<div id="NewMacro" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="NewMacroLabel" aria-hidden="true">
					<div>
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
							<h3 id="NewMacroLabel1" class="success">Add macro</h3>

						</div>
						<form name="form" ng-model="form" class="css-form" novalidate>
							<div class="modal-body">

								<div class="row-fluid">
									<div class="span12">

										<div class="span2">
											Name: 
										</div>
										<div class="span10">
											<div class="left-inner-addon">
												<i class="icon-list-alt"></i>
												<input type="text" class="form-control" ng-model="macro.name" ng-change="change()" name="name" required/>
												<span class="error red" ng-show="form.name.$error.required">*</span>
												<span class="error red" ng-show="names.indexOf(macro.name) != -1">Name already exists.</span>
											</div>
										</div>
									</div>
								</div>
								<div class="row-fluid">
									<div class="span12">

										<div class="span2">
											Alias: 
										</div>
										<div class="span10">
											<div class="left-inner-addon">
												<i class="icon-list-alt"></i>
												<input type="text" class="form-control" ng-model="macro.alias" ng-change="change()" name="alias" required/>
												<span class="error red" ng-show="form.alias.$error.required">*</span>
												<span class="error red" ng-show="aliases.indexOf(macro.alias) != -1">Alias already exists.</span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
								<button id="submit" ng-click = "save(macro, '', '');" ng-model="btnsubmit" type="submit" data-dismiss="modal" aria-hidden="true" class="btn" ng-disabled="form.$invalid || names.indexOf(macro.name) != -1" >Save</button>
							</div>

					</div>
				</div>
			</div>
		</div>

		<div class="row-fluid">
			<div class="span12">
				<table>
					<tr>
						<td><div class="span2 btn-group">
								<a class="btn btn-warning dropdown-toggle" data-toggle="dropdown" href="#" ng-click="refresh();">
									Add Macro
									<span class="caret"></span>
								</a>
								<ul class="dropdown-menu">
									<!-- dropdown menu links -->
									<li ng-repeat="macro in macros">
										<a href="" id="" ng-click="add(macro);"> {{macro.name}}
										</a>
									<li class="divider"></li>
									<li>
										<a href="" id="">
											<div><button class="btn btn-small btn-warning" data-toggle="modal" data-target="#NewMacro"><i class="icon-plus-sign-alt"> New macro</i></button></div>

										</a>
									</li>
								</ul>
							</div></td>
					</tr>
					<tr>
						<td>
							<div class="fTag fixed" ng-repeat="(midx, rule_macro) in rule.macros"><span>{{rule_macro.name}}</span><i class="icon-remove" ng-click="remove(midx);"></i></div></td>
					</tr>
				</table>
			</div>
		</div>
	</div>
</div>