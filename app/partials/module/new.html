
<div class="" ng-show="module.clicked.rnew">
	<div class="modal-header">
		<button type="button" class="close" ng-click="module.clicked.rnew=false;">Ã—</button>
		<h3 id="NewModuleLabel1" class="success">Add module</h3>
	</div>
	<form name="modulForm" ng-model="modulForm" id="funForm" class="css-form" novalidate>

		<div class="modal-body">

			<div class="row-fluid">
				<div class="span12">
					<table class="table table-striped table-bordered table-condensed">
						
						<tr ng-controller="Function" ng-init="refresh();">
							<td>
								<div class="span2 left-inner-addon">
								<i class="icon-list-alt"></i>
							<input type="text" class="form-control" placeholder="Enter name..." ng-model="module.name" ng-change="change()" name="name" required/>
							<span class="error red" ng-show="form.name.$error.required">*</span>
								</div>
							<div class="span2 btn-group">
												<a class="btn btn-warning dropdown-toggle" data-toggle="dropdown" href="#" ng-click="refresh();">
													<span class="caret"></span>Add entry
												</a>
												<ul class="dropdown-menu">
													<!-- dropdown menu links -->
													<li ng-repeat="(fidx1, function) in functions">
														<a href="" id="" ng-click="module.entry = function.id"><span ng-if="module.entry ==function.id && module.entry" class="icon-ok"></span> {{function.name}}
														</a>
													</li>
												</ul>
											</div>
							</td>
							<td></td>
											<td></td>
						</tr>
						<tr>
							<td colspan="3">
								<table class="table table-striped table-bordered table-condensed" ng-controller="Function" ng-init="refresh()">
									<tr>
										<th>Incl.</th>
										<th>Function</th>
										<th>Code</th>
									</tr>
									<tr ng-init="isCollapsed=1" ng-repeat="funct in functions">
										<td><input type="checkbox" id="include" ng-click="toggleSelection(funct);"></td>
										<td><a class="btn btn-small btn-warning" ng-click="isCollapsed = !isCollapsed">{{funct.name}} &raquo;</a></td>
										<td>
											<div class="span8" collapse="isCollapsed">
												<pre lass="prettyprint lang-js"><span ng-if="module.entry==funct.id" class="icon-star red"></span>{{funct.code}}</pre>
											</div>
										</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<td colspan="3"><div class="modal-footer">
			<button class="btn" ng-click="module.clicked.rnew=false;">Cancel</button>
			<button id="submit" ng-click = "save(module); close();" ng-model="btnsubmit" type="submit" data-dismiss="modal" aria-hidden="true" class="btn" ng-disabled="form.$invalid" >Save</button>
		</div></td>
						</tr>
					</table>
				</div>

			</div>
		</div>
	</form>
</div>